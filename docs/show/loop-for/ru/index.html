

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Цикл for — python-v-js</title>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
    <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.2/build/pure-min.css" integrity="sha384-UQiGfs9ICog+LwheBSRCt1o5cbyKIHbwjWscjemyBMT9YCUMZffs6UqUTd0hObXD" crossorigin="anonymous">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
    a {
    color: #3b8bba; /* block-background-text-normal */
    text-decoration: none;
}
    .require {
        color: #777;
        font-size: 75%;
    }

    a.ref {
       font-size: 75%;
    }

    p, h1, h2, h3 {
        margin: 15px 15px;
    }

    h1.sidebar {
        font-size: 120%;
    }
    .comment {
        color: #555;
        font-size: 85%;
        border-left: 10px solid #ddd;
        background-color: #f7f7f7;
        margin: 1.5em 0px;
        padding: 0.01em 0px;
    }

    .pure-table {
        border: 0px;
        table-layout: fixed;
        width: 100%;
    }

    td.what {
            color: #333;
            text-align: center;
            border-top: 1px solid #cbcbcb;
            padding-top: 1em;
            font-weight: bold;

        }

    a:visited {
        color: #265778; /* block-normal-text-normal */
    }

    pre.output {
       /* background-color:#edffed; */
        padding: 0em;
        margin-top: 0em;
    }

        a.section-link {
            color: #aaaaaa;
        }

        a.section-link:hover {
            color: #3b8bba;
        }

        a.section-link:focus {
            outline-width: 0px;
            outline-style: none;
        }
/*
        div.sidebar {
            position: fixed;
        }*/

</style>


</head>
<body>
<div class="pure-g">
    <div class="pure-u-4-5">
    <h1>
        Python.v.JavaScript
    </h1>
    <h2>
        JavaScript for Pythonistas. Python for JavaScripters
    </h2>
    <h3>
        Цикл for
    </h3>
        
        <p>Цикл <code>for</code> используется для двух основных целей:</p>
<ol>
<li>Выполнить некоторое действие заданное число раз.</li>
<li>Обработать все элементы некоторой структуры данных (например,
списка).</li>
</ol>

        
<table class="pure-table">
    <tr>
        <th>Python</th>
        <th>Javascript</th>
    </tr>
    
        
           
                <tr>
                <td colspan="2" class="what">
                Выполнить блок заданное число раз
                    
                    <a href="#execute-block-several-times" id="execute-block-several-times" class="section-link">#</a>
                    
                </td>
                </tr>
           
        
           
        
        <tr>
            <td>
                
    
        
            <pre><code class="python">for i in range(4):
    print(&#34;i =&#34;, i)
</code></pre>
        
    
        
            <pre class="output">i = 0
i = 1
i = 2
i = 3
</pre>
        
    
    
    
    
    

            </td>
            <td>
                
    
        
            <pre><code class="javascript">for(var i=0; i&lt;4; i++) {
    console.log(&#34;i =&#34;, i);
}</code></pre>
        
    
        
            <pre class="output">i = 0
i = 1
i = 2
i = 3
</pre>
        
    
    
    
    
    

            </td>
        </tr>
    
        
           
                <tr>
                <td colspan="2" class="what">
                Обработать все элементы списка / массива
                    
                    <a href="#enumerate-all-elements-of-list" id="enumerate-all-elements-of-list" class="section-link">#</a>
                    
                </td>
                </tr>
           
        
           
        
        <tr>
            <td>
                
    
        
            <pre><code class="python">my_list = [1, 2, 10]
for element in my_list:
    print(element)
</code></pre>
        
    
        
            <pre class="output">1
2
10
</pre>
        
    
    
    
    
    

            </td>
            <td>
                
    
        
    
        
    
        
            <pre><code class="javascript">var my_array = [1, 2, 10];
for (var i=0; i&lt;my_array.length; i++) {
    console.log(my_array[i])
}</code></pre>
        
    
        
            <pre class="output">1
2
10
</pre>
        
    
    
    
    
        <div class="comment"><p>Это наиболее безопасный способ перебора элементов массива.
Поддерживается во всех версиях JS, нет опасности включить
в перебор свойства, не являющиеся индексированными элементами
списка, см. <a href="#enumeration-in-properties">другой пример</a>.</p>
</div>
    
    
        <hr/>
    

    
        
            <pre><code class="javascript">var my_array = [1, 2, 10];
for (i in my_array) {
    console.log(my_array[i]);
}</code></pre>
        
    
        
            <pre class="output">1
2
10
</pre>
        
    
    
    
    
    
        <hr/>
    

    
        
    
        
            <pre><code class="javascript">var my_array = [1, 2, 10];
for (element of my_array) {
    console.log(element)
}</code></pre>
        
    
        
            <pre class="output">1
2
10
</pre>
        
    
    
    
        <span class="require">требует: es6</span>
    
    
    
        <hr/>
    

    
        
            <pre><code class="javascript">var my_array = [1, 2, 10];
my_array.forEach(function(v) {
    console.log(v)
})</code></pre>
        
    
        
            <pre class="output">1
2
10
</pre>
        
    
    
    
    
    

            </td>
        </tr>
    
        
           
                <tr>
                <td colspan="2" class="what">
                Значение переменной цикла после его выполнения
                    
                    <a href="#value-of-loop-variable-after-exit" id="value-of-loop-variable-after-exit" class="section-link">#</a>
                    
                </td>
                </tr>
           
        
           
        
        <tr>
            <td>
                
    
        
            <pre><code class="python">for i in range(4):
    print(&#34;Step&#34;, i)
print(&#34;Outside of loop, i =&#34;, i)
</code></pre>
        
    
        
            <pre class="output">Step 0
Step 1
Step 2
Step 3
Outside of loop, i = 3
</pre>
        
    
    
    
    
    

            </td>
            <td>
                
    
        
            <pre><code class="javascript">for (var i=0; i&lt;4; i++) {
   console.log(&#34;Step&#34;, i)
}
console.log(&#34;Outside of loop, i =&#34;, i)</code></pre>
        
    
        
            <pre class="output">Step 0
Step 1
Step 2
Step 3
Outside of loop, i = 4
</pre>
        
    
    
    
    
    
        <hr/>
    

    
        
    
        
            <pre><code class="javascript">for (let i=0; i&lt;4; i++) {
   console.log(&#34;Step&#34;, i)
}
console.log(&#34;Outside of loop, i =&#34;, i)</code></pre>
        
    
        
            <pre class="output">Step 0
Step 1
Step 2
Step 3
[stdin]:4
console.log(&#34;Outside of loop, i =&#34;, i)
                                    ^

ReferenceError: i is not defined
    at [stdin]:4:37
    at Script.runInThisContext (vm.js:132:18)
    at Object.runInThisContext (vm.js:315:38)
    at Object.&lt;anonymous&gt; ([stdin]-wrapper:10:26)
    at Module._compile (internal/modules/cjs/loader.js:1256:30)
    at evalScript (internal/process/execution.js:98:25)
    at internal/main/eval_stdin.js:29:5
    at Socket.&lt;anonymous&gt; (internal/process/execution.js:211:5)
    at Socket.emit (events.js:326:22)
    at endReadableNT (_stream_readable.js:1244:12)
</pre>
        
    
    
    
        <span class="require">требует: es6</span>
    
    
    

            </td>
        </tr>
    
        
           
                <tr>
                <td colspan="2" class="what">
                Опасности перебора элементов списка с помощью in
                    
                    <a href="#enumeration-in-properties" id="enumeration-in-properties" class="section-link">#</a>
                    
                </td>
                </tr>
           
        
           
        
        <tr>
            <td>
                
    
        
            <pre><code class="python">my_list = [1, 2, 10]
my_list.some_value = &#34;I&#39;m here!&#34;
for element in my_list:
    print(element)
</code></pre>
        
    
        
            <pre class="output">Exception: AttributeError
&#39;list&#39; object has no attribute &#39;some_value&#39;
</pre>
        
    
        
    
        
    
    
    
    
        <div class="comment"><p>В объект стандартного типа <code>list</code> невозможно добавить свойства.</p>
</div>
    
    
        <hr/>
    

    
        
            <pre><code class="python">class MyList(list):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
brand_new_list = MyList([1, 2, 10])
brand_new_list.some_value = &#34;I&#39;m here!&#34;
for element in brand_new_list:
    print(element)
</code></pre>
        
    
        
            <pre class="output">1
2
10
</pre>
        
    
        
    
        
    
    
    
    
        <div class="comment"><p>Можно создать новый класс, наследуя от <code>list</code> (хотя в общем
случае это не рекомендуется делать), и добавить к нему
дополнительные свойства. Это не повлияет на перебор элементов
списка с помощью <code>for ... in ...</code>.</p>
</div>
    
    

            </td>
            <td>
                
    
        
    
        
    
        
            <pre><code class="javascript">var my_array = [1, 2, 10];
my_array.some_value = &#34;I&#39;m here!&#34;;
for (i in my_array) {
    console.log(my_array[i]);
}</code></pre>
        
    
        
            <pre class="output">1
2
10
I&#39;m here!
</pre>
        
    
    
    
    
        <div class="comment"><p>В JavaScript массив — это просто (хорошо оптимизированный) объект с
числовыми индексами. Если вы добавите ещё одно свойство в этот
объект, оно окажется в числе перечисляемых с помощью <code>for ... in
...</code>.</p>
</div>
    
    
        <hr/>
    

    
        
            <pre><code class="javascript">var my_array = [1, 2, 10];
Array.prototype.some_value = &#34;I&#39;m here!&#34;;
for (i in my_array) {
    console.log(my_array[i]);
}</code></pre>
        
    
        
            <pre class="output">1
2
10
I&#39;m here!
</pre>
        
    
    
    
    
    

            </td>
        </tr>
    
        
           
                <tr>
                <td colspan="2" class="what">
                Перебор ключей в словаре / объекте
                    
                    <a href="#dict-obj-enumeration" id="dict-obj-enumeration" class="section-link">#</a>
                    
                </td>
                </tr>
           
        
           
        
        <tr>
            <td>
                
    
        
            <pre><code class="python">my_dict = {&#39;a&#39;: 10, &#39;b&#39;: 20}
for key in my_dict:
    print(key)
</code></pre>
        
    
        
            <pre class="output">a
b
</pre>
        
    
    
    
    
    

            </td>
            <td>
                
    
        
    
        
    
        
            <pre><code class="javascript">my_obj = {a: 10, b: 20}
Object.prototype.new_property = function() {
    return &#34;Hello&#34;;
}
for (key in my_obj) {
    console.log(key);
}</code></pre>
        
    
        
            <pre class="output">a
b
new_property
</pre>
        
    
    
    
    
        <div class="comment"><p>В объектах JavaScript не различаются записи, свойства и методы.
Более того: цикл <code>for</code> в данном случае перебирает не только по
элементам самого объекта, но и по элементам его прототипа (если 
только они специально не отмечены как <code>enumerable: false</code>).</p>
</div>
    
    
        <hr/>
    

    
        
            <pre><code class="javascript">my_obj = {a: 10, b: 20}
Object.prototype.new_property = function() {
    return &#34;Hello&#34;;
}
for (key in my_obj) {
    if (my_obj.hasOwnProperty(key)) {
        console.log(key);
    }
}</code></pre>
        
    
        
            <pre class="output">a
b
</pre>
        
    
    
    
    
    

            </td>
        </tr>
    
        
           
                <tr>
                <td colspan="2" class="what">
                Перебор ключей и значений в словаре / объекте
                    
                    <a href="#dict-obj-key-value-pair" id="dict-obj-key-value-pair" class="section-link">#</a>
                    
                </td>
                </tr>
           
        
           
        
        <tr>
            <td>
                
    
        
            <pre><code class="python">my_dict = {&#39;a&#39;: 10, &#39;b&#39;: 20}
for key, value in my_dict.items():
    print(key, &#34;=&gt;&#34;, value)
</code></pre>
        
    
        
            <pre class="output">a =&gt; 10
b =&gt; 20
</pre>
        
    
    
    
    
    

            </td>
            <td>
                
    
        
    
        
    
        
    
        
            <pre><code class="javascript">my_obj = {a: 10, b: 20}
Object.prototype.new_property = function() {
    return &#34;Hello&#34;;
}
for (key in my_obj) {
    if (my_obj.hasOwnProperty(key)) {
        console.log(key, &#34;=&gt;&#34;, my_obj[key]);
    }
}</code></pre>
        
    
        
            <pre class="output">a =&gt; 10
b =&gt; 20
</pre>
        
    
    
        <a href="http://stackoverflow.com/a/7241901/3025981" class="ref">ссылка</a>
    
    
    
        <div class="comment"><p>См. комментарий к <a href="#dict-obj-enumeration">другому примеру</a>.</p>
</div>
    
    

            </td>
        </tr>
    
</table>
    <div style="text-align: center; font-size: 80%; color: #aaaaaa; margin:0.5em;">
© Ilya V. Schurov and <a
         href="https://github.com/ischurov/pythonvjs/graphs/contributors">contributors</a>, 2017<br/>
        Licenses: <a href="https://creativecommons.org/licenses/by/4.0/">CC BY</a> (text),
        <a href="https://opensource.org/licenses/MIT">MIT</a> (code).<br/>
        <a href="http://github.com/ischurov/pythonvjs">contribute on github</a>
</div>

        </div>
<div class="pure-u-1-5 sidebar">
<h1 class="sidebar"> Язык</h1>
<ul>
    
    <li>
        <a href="/pythonvjs/show/loop-for/en/">
            Английский (English)
        </a>
    </li>
    
    <li>
        <a href="/pythonvjs/show/loop-for/ru/">
            Русский (Russian)
        </a>
    </li>
    
</ul>
<h1 class="sidebar">Темы</h1>
<ul>

    <li>
<a href="/pythonvjs/show/lists-arrays/ru/">
    Списки / массивы
</a>
    </li>

    
    <li>
<a href="/pythonvjs/show/loop-for/ru/">
    Цикл for
</a>
    </li>

    
    <li>
<a href="/pythonvjs/show/dicts-objects/ru/">
    Словари / объекты
</a>
    </li>

    
    <li>
<a href="/pythonvjs/show/scopes/ru/">
    Области видимости
</a>
    </li>

    
    <li>
<a href="/pythonvjs/show/types%20/ru/">
    Типы и сравнение
</a>
    </li>

    
    <li>
<a href="/pythonvjs/show/functions/ru/">
    Функции
</a>
    </li>

    
    </ul>
<h1 class="sidebar">Ссылки</h1>
<ul>
    <li><a href="/">блог</a></li>
    <li><a href="https://twitter.com/ivoyager">twitter</a></li>
    <li><a href="https://www.facebook.com/ilyaschurov">facebook</a></li>
    <li><a href="http://github.com/ischurov/pythonvjs">github</a></li>
</ul>
</div>
</div>
</body>
</html>